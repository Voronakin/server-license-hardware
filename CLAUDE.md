# CLAUDE.md

This file provides guidance to Claude Code (claude.ai/code) when working with code in this repository.

## Обзор проекта

Это библиотека Go для генерации и проверки лицензий на программное обеспечение. Библиотека создаёт токены JWT, содержащие хэши сервера, на основе его характеристик, что предотвращает повторное использование лицензий на других серверах. Токены JWT подписываются с использованием асимметричного шифрования. Библиотека разработана для ОС Windows.

## Цель проекта

- **Генерация лицензий**: создание лицензий на основе JWT с хешами, специфичными для сервера
- **Проверка лицензий**: проверка лицензий на соответствие характеристикам сервера
- **Привязка к оборудованию**: предотвращение передачи лицензий между разными серверами
- **Асимметричное шифрование**: использование пар открытого и закрытого ключей для подписи JWT

## Техническая архитектура

Пакет включает в себя 4 подпакета:
1) Генератор hash-а машины на которой выполняется код в виже json с сперечислением самих характеристик,
данный hash уникален для каждой машины
2) Герератор лицензии, который симметричным ключем шифрует  hash машины и на его основе генерирует JWT токен, 
который и представляет собой лицензию, подписанную асимметричным ключем
3) Валидатор лицензии:
 - Валидация подписи лицензии публичным ключем
 - Декодирование зашиброванного hash
 - Сравненияе характеристик указанных в лицензии с характеристиками текущей машины, получаемые на лету через подпакет (1)

Согласно описанию в README, ожидаемая архитектура включает в себя:

- **Структура токена JWT**: содержит хеш сервера, полученный на основе характеристик оборудования
- **Генерация хеша сервера**: создание уникальных идентификаторов на основе оборудования сервера
- **Асимметричная криптография**: RSA или аналогичный алгоритм для подписи/верификации JWT
- **Интеграция с Windows**: сбор информации об оборудовании, специфичной для платформы

## Ожидаемые компоненты

При реализации библиотека, вероятно, будет включать:

- Сбор информации об оборудовании для Windows
- Алгоритмы генерации хэшей
- Создание и проверка токенов JWT
- Управление криптографическими ключами
- Управление состоянием лицензии

## Платформенные особенности

- **Специально для Windows**: акцент на API информации об оборудовании Windows
- **Привязка к оборудованию**: характеристики сервера должны быть стабильными и уникальными
- **Безопасность**: правильное управление ключами и криптографические методы
- **Производительность**: эффективное сканирование оборудования и генерация хэшей
- Отвечай пользователю всегда на русском языке